# Weather Forecast Telegram Bot

## Описание проекта

Проект представляет собой Telegram-бота для получения прогноза погоды на ближайшие дни. Бот взаимодействует с внешним API для получения данных о погоде, а также использует базу данных для хранения и обработки информации. Контейнеризация выполнена с помощью Docker, обеспечивая простую настройку и развертывание.

## Основные разделы

**1. Создание моделей**

 - Модели данных:

    - В проекте используются ORM-модели, созданные с использованием SQLAlchemy. Они описывают структуру базы данных, включая таблицы для хранения информации о погоде, городах и иконках погоды.

**2. Работа с API погоды**

 - Получение данных:

    - Для получения данных используется внешнее API, например, OpenWeatherMap. Данные о погоде включают температуру, влажность, направление ветра и прогноз на ближайшие дни.

    - Реализованы функции для обработки данных, такие как преобразование градусов в направления ветра

- Получение иконок погоды:

    - Иконки погоды загружаются из API и сохраняются в базе данных в  виде байтовых данных. При запросе иконки отправляются пользователю через Telegram.

**3. Telegram-бот с использованием Aiogram**

- Создание бота:

    - Бот реализован с использованием библиотеки aiogram. Основная задача бота — обработка команды /start, получение названия города от пользователя и предоставление прогноза погоды в ответ.

- Функционал:
    - Обработка сообщений:

        - Бот принимает ввод пользователя (название города) и проверяет наличие данных о погоде для указанного города.

        - Если данные отсутствуют, бот делает запрос к API, сохраняет информацию в базу данных и возвращает результат.

**4. Контейнеризация с помощью Docker**


    - Dockerfile:

        - Файл Dockerfile используется для сборки контейнера приложения. В нем указаны команды для установки зависимостей, настройки рабочего окружения и запуска приложения.

    - Docker Compose:

        - Файл docker-compose.yaml определяет два сервиса:

            - app: основной сервис для работы приложения.

            - db: база данных PostgreSQL.


# Установка и запуск

### Склонируйте репозиторий:

```
git clone <URL>
cd <project-directory>
```

### Создайте файл .env и укажите переменные окружения:

```
API_KEY_WEATHER=<ваш API-ключ>
API_TOKEN_BOT=<ваш токен>
DATABASE_URL=<ваш URL>
POSTGRES_PASSWORD=<ваш пароль>
POSTGRES_DB=<ваше имя базы дынных
```

### Запустите приложение:

```
docker-compose up --build -d
```

### Откройте Telegram, найдите своего бота и начните взаимодействие.





